
# lazy_log_viewr
シリアルポートで受信したcsv形式の時系列データのグラフを表示する。


# コンセプト
- できるだけ少ない労力でグラフを拡大、縮小、移動ができるログビュワーを開発する
- 受信するデータが変わっても一度作った部分を流用して対応しやすいものを目指す


# 動作環境
- OS: Windows 10
- nodejs: v14.15.1 (https://nodejs.org/ja/からwindows用のリリースをダウンロードして使用)


# インストール方法

```
git clone https://github.com/GanonKuppa/lazy_log_viewer.git
cd lazy_log_viewer
npm install
npm run rebuild

```

npm run rebuildはelectronでserialportモジュールを使うために必要です。package.jsonにこのコマンドが登録されており、serialportモジュールがelectron-rebuildによってリビルドされます。electronでは一部のモジュールがrebuildしないと動作しないため注意して下さい。serialportはリビルドが必要なモジュールです。

# 実行方法
```
npm run run
```

npm run runはpackage.jsonに登録されているrunコマンドを呼び出します。このコマンドを叩くとアプリが起動します。

# 仕様

## 概要
- シリアルポートから受信したデータのグラフを描画
- 受信したデータはcsvファイルとしてlogフォルダに保存
- logフォルダのcsvデータをアプリ画面にドラッグ＆ドロップするとそのファイルの内容のグラフを描画

## 対応するデータ形式
log/サンプル.csvのようなヘッダを持つcsv形式のデータ対応します。行の最後は改行としてください。

```
timestamp, v_enc, v_ave, v_comp, v_acc, ang, ang_v, acc_cor_x, acc_cor_y, acc_x, acc_y, x, y, beta, v_setp, x_setp, y_setp, a_setp, ang_v_traj, ang_v_setp, ang_traj, ang_setp
0.000000,0.000000, 0.000000, -0.001859, -0.001859, 92.646027, 0.489756, -0.064045, -0.115521, -0.064045, -0.115520, 0.045302, 0.033981,0.000000, 0.001500, 0.045000, 0.045001, 3.000000, 0.000000, -1.000000, 90.000000, 90.000000
1.000000,0.000000, 0.000057, -0.001850, -0.001850, 92.646606, 0.581585, -0.087987, -0.134674, -0.087987, -0.134674, 0.045302, 0.033979,0.000000, 0.004500, 0.045000, 0.045005, 3.000000, 0.000000, -1.000000, 90.000000, 90.000000
2.000000,0.000000, 0.000000, -0.001917, -0.001917, 92.647217, 0.612195, -0.054468, -0.072425, -0.054468, -0.072425, 0.045302, 0.033977,0.000000, 0.007500, 0.045000, 0.045011, 3.000000, 0.000000, -1.000000, 90.000000, 90.000000
3.000000,0.000000, 0.000000, -0.001993, -0.001993, 92.647766, 0.550976, -0.090381, -0.125097, -0.090381, -0.125097, 0.045302, 0.033975,0.000000, 0.010500, 0.045000, 0.045021, 3.000000, 0.000000, -1.000000, 90.000000, 90.000000
4.000000,0.005676, 0.000057, -0.001877, -0.001877, 92.648407, 0.642805, -0.090381, -0.036512, -0.090381, -0.036512, 0.045302, 0.033973,0.000000, 0.013500, 0.045000, 0.045034, 3.000000, 0.000000, -1.000000, 90.000000, 90.000000
5.000000,0.005676, 0.000114, -0.001832, -0.001832, 92.648987, 0.581585, -0.116717, -0.072425, -0.116717, -0.072425, 0.045302, 0.033971,0.000000, 0.016500, 0.045000, 0.045050, 3.000000, 0.000000, -1.000000, 90.000000, 90.000000

```

## 機能要求
### データの受信
- csv形式のデータをシリアルポート経由で受け取ること
- 接続先シリアルポートの設定用GUIを設けること
- シリアルポートとの接続ボタンと断接続ボタンを設けること
- シリアルポートのオープン状態がわかるGUIを設けいること
- アプリ起動時にシリアルポートのオープンを実行すること
- 接続先のシリアルポートの情報はアプリ内で記憶すること
- 保存済みのcsv形式のデータを読み込み可能とすること
### データの表示
- csv形式のデータを時系列順にグラフ表示可能とすること
- グラフは拡大、縮小、移動が快適に行えること
- 保存済みのcsvファイルを読み込みグラフ表示可能とすること
### データの保存
- 受信したデータはファイルでcsvファイルとして保存すること
- csvファイルへの保存は自動で行われること
- 保存するファイルのファイル名はそのときの日時、時刻が入ったものとすること

## 非機能要求
- アプリのイメージサイズは問わない ( electronなので...)
- CPU負荷は問わない (electronなので...)
- データ読み込み時のエラー処理は実装しなくてもよい (自分しか使わんし )


# ライセンス
MIT